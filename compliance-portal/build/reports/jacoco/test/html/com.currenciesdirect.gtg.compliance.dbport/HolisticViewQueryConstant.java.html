<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>HolisticViewQueryConstant.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">compliance-portal</a> &gt; <a href="index.source.html" class="el_package">com.currenciesdirect.gtg.compliance.dbport</a> &gt; <span class="el_source">HolisticViewQueryConstant.java</span></div><h1>HolisticViewQueryConstant.java</h1><pre class="source lang-java linenums">package com.currenciesdirect.gtg.compliance.dbport;

/**
 * The Enum HolisticViewQueryConstant.
 *
 * @author laxmib
 */
<span class="fc" id="L8">@SuppressWarnings(&quot;squid:S1192&quot;)</span>
public enum HolisticViewQueryConstant {
	
<span class="fc" id="L11">	HOLISTIC_VIEW(&quot;select accAttri.Attributes AS Accountattribute, conAttri.Attributes AS Contactattribute , &quot;</span>
			+ &quot; acc.CreatedOn As  RegistrationInDate, &quot;
		+ &quot; acc.ComplianceDoneOn AS compliancedoneon, &quot;
		+ &quot; org.Code AS OrgCode, &quot;
		+ &quot; con.AccountID as AccountID, &quot;
		+ &quot; con.ID AS ContactID, &quot;
	    + &quot; acc.AccountStatus AS AccountStatus from Account acc &quot;
		+ &quot; Join Accountattribute accAttri &quot;
		+ &quot; On acc.id = accAttri.id &quot;
		+ &quot; Join Organization org&quot;
		+ &quot; ON org.id = acc.OrganizationID &quot;
		+ &quot; Join Contact con &quot;
		+ &quot; ON acc.id = con.accountid &quot;
		+ &quot; Join ContactAttribute conAttri &quot;
		+ &quot; On con.id = conAttri.id &quot;
		+ &quot; where acc.id = ? and con.id = ?&quot;),
	
<span class="fc" id="L28">	HOLISTIC_VIEW_PAYMENT_DETAILS(&quot;select &quot;</span>
		+ &quot; count( distinct(ContractNumber) ) As NumberOfTrades, &quot;
		+ &quot; max( TransactionDate ) AS LastTradeDate, &quot;
		+ &quot; min( TransactionDate ) AS FirstTradeDate &quot;
		+ &quot; &quot;
		+ &quot; from &quot;
		+ &quot; paymentout &quot;
		+ &quot; where &quot;
		+ &quot; AccountID = ? &quot;),
	
<span class="fc" id="L38">	HOLISTIC_VIEW_TOTAL_SALE_AMOUNT(&quot;SELECT Sum(vBaseCurrencyAmount) AS TotalSaleAmount&quot;</span>
			+ &quot; FROM PaymentInAttribute pa &quot;
			+ &quot; JOIN PaymentIn pin ON pa.id=pin.id&quot;
			+ &quot; WHERE accountid = ? &quot;),
	
<span class="fc" id="L43">	HOLISTIC_VIEW_PAYMENTOUT_DETAILS(&quot;SELECT &quot;</span>
		+ &quot; * &quot;
		+ &quot;FROM &quot;
		+ &quot; Comp.PaymentOut payout &quot;
		+ &quot;JOIN Comp.PaymentOutAttribute payoutattri On &quot;
		+ &quot; payout.id = payoutattri.id &quot;
		+ &quot;where &quot;
		+ &quot; payout.id = ?&quot;),
	
<span class="fc" id="L52">	HOLISTIC_VIEW_PAYMENTIN_DETAILS(&quot;SELECT &quot;</span>
		+ &quot; * &quot;
		+ &quot;FROM &quot;
		+ &quot; Comp.PaymentIn payin &quot;
		+ &quot;JOIN Comp.PaymentInAttribute payinattri On &quot;
		+ &quot; payin.id = payinattri.id &quot;
		+ &quot;where &quot;
		+ &quot; payin.id = ?&quot;),
	
<span class="fc" id="L61">	GET_OTHER_CONTACT_DETAILS(&quot;SELECT &quot;</span>
		+ &quot; c.ID AS contactID, &quot;
		+ &quot; c.Name AS Name, &quot;
		+ &quot; conAttri.Attributes AS Contactattribute, &quot;
		+ &quot; CASE &quot;
		+ &quot; A.[Type] &quot;
		+ &quot; WHEN 1 THEN 'CFX' &quot;
		+ &quot; ELSE 'PFX' &quot;
		+ &quot; END AS CustomerType, &quot;
		+ &quot; cste.Status AS complianceStatus &quot;
		+ &quot;FROM &quot;
		+ &quot; Contact C &quot;
		+ &quot;JOIN ContactAttribute conAttri ON &quot;
		+ &quot; c.id = conAttri.id &quot;
		+ &quot;JOIN Account A ON &quot;
		+ &quot; C.Accountid = A.id &quot;
		+ &quot;JOIN ContactComplianceStatusEnum cste ON &quot;
		+ &quot; c.complianceStatus = cste.id &quot;
		+ &quot;WHERE &quot;
		+ &quot; AccountID = ? &quot;
		+ &quot; AND C.Id &lt;&gt; ? AND (C.Deleted = 0 OR C.Deleted IS NULL)&quot;),
	
<span class="fc" id="L83">	GET_DEVICE_INFO(&quot;select &quot;</span>
		+ &quot; deviceinfo.DeviceType AS DeviceType, &quot;
		+ &quot; deviceinfo.DeviceName AS DeviceName, &quot;
		+ &quot; deviceinfo.DeviceVersion AS DeviceVersion, &quot;
		+ &quot; deviceinfo.DeviceID AS DeviceID, &quot;
		+ &quot; deviceinfo.DeviceManufacturer AS DeviceManufacturer, &quot;
		+ &quot; deviceinfo.OSType AS OSType, &quot;
		+ &quot; deviceinfo.BrowserName AS BrowserName, &quot;
		+ &quot; deviceinfo.BrowserVersion AS BrowserVersion, &quot;
		+ &quot; deviceinfo.BrowserLanguage AS BrowserLanguage, &quot;
		+ &quot; deviceinfo.BrowserOnline AS BrowserOnline, &quot;
		+ &quot; deviceinfo.OSTimestamp AS OSTimestamp, &quot;
		+ &quot; deviceinfo.CDAppID AS CDAppID, &quot;
		+ &quot; deviceinfo.CDAppVersion AS CDAppVersion &quot;
		+ &quot; FROM &quot;
		+ &quot; DeviceInfo AS deviceinfo &quot;
		+ &quot; JOIN Event AS eve ON &quot;
		+ &quot; deviceinfo.EventID = eve.ID &quot;
		+ &quot; JOIN EventTypeEnum ete ON &quot;
		+ &quot; eve.EventType = ete.ID &quot;
		+ &quot; WHERE &quot;
		+ &quot; eve.accountid = ? &quot;
		+ &quot; ORDER BY &quot;
		+ &quot; deviceinfo.CreatedOn&quot;),
	
<span class="fc" id="L108">	GET_CONTACT_DETAILS_FOR_CFX(&quot;SELECT &quot;</span>
			+ &quot; c.ID AS contactID, &quot;
			+ &quot; c.Name AS Name, &quot;
			+ &quot; conAttri.Attributes AS Contactattribute, &quot;
			+ &quot; CASE &quot;
			+ &quot; A.[Type] &quot;
			+ &quot; WHEN 1 THEN 'CFX' &quot;
			+ &quot; ELSE 'PFX' &quot;
			+ &quot; END AS CustomerType, &quot;
			+ &quot; cste.Status AS complianceStatus &quot;
			+ &quot;FROM &quot;
			+ &quot; Contact C &quot;
			+ &quot;JOIN ContactAttribute conAttri ON &quot;
			+ &quot; c.id = conAttri.id &quot;
			+ &quot;JOIN Account A ON &quot;
			+ &quot; C.Accountid = A.id &quot;
			+ &quot;JOIN ContactComplianceStatusEnum cste ON &quot;
			+ &quot; c.complianceStatus = cste.id &quot;
			+ &quot;WHERE &quot;
			+ &quot; AccountID = ? AND (c.Deleted = 0 OR c.Deleted IS NULL)&quot;);
	
	
	
	private String query;

<span class="fc" id="L133">	HolisticViewQueryConstant(String query) {</span>
<span class="fc" id="L134">		this.query = query;</span>

<span class="fc" id="L136">	}</span>

	public String getQuery() {
<span class="fc" id="L139">		return this.query;</span>
	}
	
	
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>