<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>RegistrationServiceRequest.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">compliance-service</a> &gt; <a href="index.source.html" class="el_package">com.currenciesdirect.gtg.compliance.compliancesrv.domain.reg</a> &gt; <span class="el_source">RegistrationServiceRequest.java</span></div><h1>RegistrationServiceRequest.java</h1><pre class="source lang-java linenums">package com.currenciesdirect.gtg.compliance.compliancesrv.domain.reg;

import com.currenciesdirect.gtg.compliance.commons.domain.DeviceInfo;
import com.currenciesdirect.gtg.compliance.commons.domain.msg.ServiceMessage;
import com.currenciesdirect.gtg.compliance.compliancesrv.core.validator.FieldValidator;
import com.currenciesdirect.gtg.compliance.compliancesrv.util.Constants;
import com.fasterxml.jackson.annotation.JsonIgnore;
import com.fasterxml.jackson.annotation.JsonProperty;
import io.swagger.annotations.ApiModelProperty;
import java.io.Serializable;

<span class="fc" id="L12">public class RegistrationServiceRequest extends ServiceMessage implements Serializable {</span>
	private static final long serialVersionUID = 1L;
	
	@ApiModelProperty(value = &quot;The CD organisation code where the call originated&quot;, required = true, example = &quot;Currencies Direct, CD SA, E4F, FCG, TorFX or TorFXOz&quot;, position = 5)
	@JsonProperty(value=&quot;org_code&quot;)
	private String orgCode;
	
	@JsonIgnore
	private Integer orgId;
	
	@JsonProperty(value=&quot;account&quot;)
	private Account account;
	
	@ApiModelProperty(value = &quot;source_application&quot;, dataType = &quot;java.lang.String&quot;, required = true)
	@JsonProperty(value=&quot;source_application&quot;)
	private String sourceApplication;
	
	@JsonProperty(value=&quot;cookie_info&quot;)
	private String cookieInfo;

	@JsonProperty(value=&quot;device_info&quot;)
	private DeviceInfo deviceInfo;
	
<span class="fc" id="L35">	@ApiModelProperty(value = &quot;Whether this data should be broadcast to other systems such as those in SA Cape Town&quot;, example = &quot;true&quot;, required = true)</span>
	@JsonProperty(value=&quot;isBroadCastRequired&quot;)
	private Boolean isBroadCastRequired = Boolean.TRUE;
	
	@ApiModelProperty(value = &quot;event&quot;, example = &quot;migrate_customer&quot;)
	@JsonProperty(value=&quot;event&quot;)
	private String event;
	
	@JsonIgnore
	private Integer oldOrgId;

	@JsonProperty(value=&quot;isCardApply&quot;)
	private String isCardApply;

	@JsonProperty(value=&quot;ipAddress&quot;)
	private String ipAddress;

	@JsonProperty(value=&quot;tradeContractId&quot;)
	private String tradeContractId;

	@JsonProperty(value = &quot;lastPasswordChangeDate&quot;)
	private String lastPasswordChangeDate;

	@JsonProperty(value = &quot;appInstallDate&quot;)
	private String appInstallDate;

	@JsonProperty(value = &quot;deviceId&quot;)
	private String deviceId;

	@JsonProperty(value = &quot;lastEmailChangeDate&quot;)
	private String lastEmailChangeDate;

	@JsonProperty(value = &quot;lastPhoneChangeDate&quot;)
	private String lastPhoneChangeDate;

	@JsonProperty(value = &quot;lastAddressChangeDate&quot;)
	private String lastAddressChangeDate;

	@JsonProperty(value = &quot;lastPinChangeDate&quot;)
	private String lastPinChangeDate;

	@JsonProperty(value=&quot;card&quot;)
	private Card card;

	public String getOrgCode() {
<span class="fc" id="L80">		return orgCode;</span>
	}

	public void setOrgCode(String orgCode) {
<span class="fc" id="L84">		this.orgCode = orgCode;</span>
<span class="fc" id="L85">	}</span>

	public Integer getOrgId() {
<span class="fc" id="L88">		return orgId;</span>
	}

	public void setOrgId(Integer orgId) {
<span class="fc" id="L92">		this.orgId = orgId;</span>
<span class="fc" id="L93">	}</span>

	public Account getAccount() {
<span class="fc" id="L96">		return account;</span>
	}

	public void setAccount(Account account) {
<span class="fc" id="L100">		this.account = account;</span>
<span class="fc" id="L101">	}</span>

	public String getSourceApplication() {
<span class="nc" id="L104">		return sourceApplication;</span>
	}

	public void setSourceApplication(String sourceApplication) {
<span class="fc" id="L108">		this.sourceApplication = sourceApplication;</span>
<span class="fc" id="L109">	}</span>

	public DeviceInfo getDeviceInfo() {
<span class="fc" id="L112">		return deviceInfo;</span>
	}

	public void setDeviceInfo(DeviceInfo deviceInfo) {
<span class="fc" id="L116">		this.deviceInfo = deviceInfo;</span>
<span class="fc" id="L117">	}</span>
	
	public String getCookieInfo() {
<span class="nc" id="L120">		return cookieInfo;</span>
	}

	public void setCookieInfo(String cookieInfo) {
<span class="nc" id="L124">		this.cookieInfo = cookieInfo;</span>
<span class="nc" id="L125">	}</span>

	/**
	 * @return the event
	 */
	public String getEvent() {
<span class="nc" id="L131">		return event;</span>
	}

	/**
	 * @param event the event to set
	 */
	public void setEvent(String event) {
<span class="nc" id="L138">		this.event = event;</span>
<span class="nc" id="L139">	}</span>

	/**
	 * @return the isBroadcastRequired
	 */
	public Boolean getIsBroadCastRequired() {
<span class="nc" id="L145">		return isBroadCastRequired;</span>
	}

	/**
	 * @param isBroadcastRequired the isBroadcastRequired to set
	 */
	public void setIsBroadCastRequired(Boolean isBroadcastRequired) {
<span class="fc" id="L152">		this.isBroadCastRequired = isBroadcastRequired;</span>
<span class="fc" id="L153">	}</span>

	/**
	 * @return the oldOrgId
	 */
	public Integer getOldOrgId() {
<span class="nc" id="L159">		return oldOrgId;</span>
	}

	/**
	 * @param oldOrgId the oldOrgId to set
	 */
	public void setOldOrgId(Integer oldOrgId) {
<span class="nc" id="L166">		this.oldOrgId = oldOrgId;</span>
<span class="nc" id="L167">	}</span>

	public String getIsCardApply() {
<span class="nc" id="L170">		return isCardApply;</span>
	}

	public void setIsCardApply(String isCardApply) {
<span class="nc" id="L174">		this.isCardApply = isCardApply;</span>
<span class="nc" id="L175">	}</span>

	public String getIpAddress() {
<span class="nc" id="L178">		return ipAddress;</span>
	}

	public void setIpAddress(String ipAddress) {
<span class="nc" id="L182">		this.ipAddress = ipAddress;</span>
<span class="nc" id="L183">	}</span>

	public String getTradeContractId() {
<span class="nc" id="L186">		return tradeContractId;</span>
	}

	public void setTradeContractId(String tradeContractId) {
<span class="nc" id="L190">		this.tradeContractId = tradeContractId;</span>
<span class="nc" id="L191">	}</span>

	public String getLastPasswordChangeDate() {
<span class="nc" id="L194">		return lastPasswordChangeDate;</span>
	}

	public void setLastPasswordChangeDate(String lastPasswordChangeDate) {
<span class="nc" id="L198">		this.lastPasswordChangeDate = lastPasswordChangeDate;</span>
<span class="nc" id="L199">	}</span>

	public String getAppInstallDate() {
<span class="nc" id="L202">		return appInstallDate;</span>
	}

	public void setAppInstallDate(String appInstallDate) {
<span class="nc" id="L206">		this.appInstallDate = appInstallDate;</span>
<span class="nc" id="L207">	}</span>

	public String getDeviceId() {
<span class="nc" id="L210">		return deviceId;</span>
	}

	public void setDeviceId(String deviceId) {
<span class="nc" id="L214">		this.deviceId = deviceId;</span>
<span class="nc" id="L215">	}</span>

	public String getLastEmailChangeDate() {
<span class="nc" id="L218">		return lastEmailChangeDate;</span>
	}

	public void setLastEmailChangeDate(String lastEmailChangeDate) {
<span class="nc" id="L222">		this.lastEmailChangeDate = lastEmailChangeDate;</span>
<span class="nc" id="L223">	}</span>

	public String getLastPhoneChangeDate() {
<span class="nc" id="L226">		return lastPhoneChangeDate;</span>
	}

	public void setLastPhoneChangeDate(String lastPhoneChangeDate) {
<span class="nc" id="L230">		this.lastPhoneChangeDate = lastPhoneChangeDate;</span>
<span class="nc" id="L231">	}</span>

	public String getLastAddressChangeDate() {
<span class="nc" id="L234">		return lastAddressChangeDate;</span>
	}

	public void setLastAddressChangeDate(String lastAddressChangeDate) {
<span class="nc" id="L238">		this.lastAddressChangeDate = lastAddressChangeDate;</span>
<span class="nc" id="L239">	}</span>

	public String getLastPinChangeDate() {
<span class="nc" id="L242">		return lastPinChangeDate;</span>
	}

	public void setLastPinChangeDate(String lastPinChangeDate) {
<span class="nc" id="L246">		this.lastPinChangeDate = lastPinChangeDate;</span>
<span class="nc" id="L247">	}</span>

	public Card getCard() {
<span class="nc" id="L250">		return card;</span>
	}

	public void setCard(Card card) {
<span class="nc" id="L254">		this.card = card;</span>
<span class="nc" id="L255">	}</span>

	@Override
	public String toString() {
<span class="nc" id="L259">		return &quot;RegistrationServiceRequest{&quot; +</span>
				&quot;orgCode='&quot; + orgCode + '\'' +
				&quot;, orgId=&quot; + orgId +
				&quot;, account=&quot; + account +
				&quot;, sourceApplication='&quot; + sourceApplication + '\'' +
				&quot;, cookieInfo='&quot; + cookieInfo + '\'' +
				&quot;, deviceInfo=&quot; + deviceInfo +
				&quot;, isBroadCastRequired=&quot; + isBroadCastRequired +
				&quot;, event='&quot; + event + '\'' +
				&quot;, oldOrgId=&quot; + oldOrgId +
				&quot;, isCardApply='&quot; + isCardApply + '\'' +
				&quot;, ipAddress='&quot; + ipAddress + '\'' +
				&quot;, tradeContractId='&quot; + tradeContractId + '\'' +
				&quot;, lastPasswordChangeDate=&quot; + lastPasswordChangeDate +
				&quot;, appInstallDate=&quot; + appInstallDate +
				&quot;, deviceId='&quot; + deviceId + '\'' +
				&quot;, lastEmailChangeDate=&quot; + lastEmailChangeDate +
				&quot;, lastPhoneChangeDate=&quot; + lastPhoneChangeDate +
				&quot;, lastAddressChangeDate=&quot; + lastAddressChangeDate +
				&quot;, lastPinChangeDate=&quot; + lastPinChangeDate +
				&quot;, card=&quot; + card +
				'}';
	}

	@Override
	public int hashCode() {
<span class="nc" id="L285">		final int prime = 31;</span>
<span class="nc" id="L286">		int result = 1;</span>
<span class="nc bnc" id="L287" title="All 2 branches missed.">		result = prime * result + ((account == null) ? 0 : account.hashCode());</span>
<span class="nc bnc" id="L288" title="All 2 branches missed.">		result = prime * result + ((orgCode == null) ? 0 : orgCode.hashCode());</span>
<span class="nc bnc" id="L289" title="All 2 branches missed.">		result = prime * result + ((sourceApplication == null) ? 0 : sourceApplication.hashCode());</span>
<span class="nc bnc" id="L290" title="All 2 branches missed.">		result = prime * result + ((event == null) ? 0 : event.hashCode());</span>
<span class="nc" id="L291">		return result;</span>
	}

	@Override
	public boolean equals(Object obj) {
<span class="nc bnc" id="L296" title="All 2 branches missed.">		if (this == obj)</span>
<span class="nc" id="L297">			return true;</span>
<span class="nc bnc" id="L298" title="All 2 branches missed.">		if (obj == null)</span>
<span class="nc" id="L299">			return false;</span>
<span class="nc bnc" id="L300" title="All 2 branches missed.">		if (getClass() != obj.getClass())</span>
<span class="nc" id="L301">			return false;</span>
<span class="nc" id="L302">		RegistrationServiceRequest other = (RegistrationServiceRequest) obj;</span>
<span class="nc bnc" id="L303" title="All 2 branches missed.">		if (account == null) {</span>
<span class="nc bnc" id="L304" title="All 2 branches missed.">			if (other.account != null)</span>
<span class="nc" id="L305">				return false;</span>
<span class="nc bnc" id="L306" title="All 2 branches missed.">		} else if (!account.equals(other.account)) {</span>
<span class="nc" id="L307">			return false;</span>
		  }	
<span class="nc bnc" id="L309" title="All 2 branches missed.">		if (orgCode == null) {</span>
<span class="nc bnc" id="L310" title="All 2 branches missed.">			if (other.orgCode != null)</span>
<span class="nc" id="L311">				return false;</span>
<span class="nc bnc" id="L312" title="All 2 branches missed.">		} else if (!orgCode.equals(other.orgCode)) {</span>
<span class="nc" id="L313">			return false;</span>
		  }	
<span class="nc bnc" id="L315" title="All 2 branches missed.">		if (sourceApplication == null) {</span>
<span class="nc bnc" id="L316" title="All 2 branches missed.">			if (other.sourceApplication != null)</span>
<span class="nc" id="L317">				return false;</span>
<span class="nc bnc" id="L318" title="All 2 branches missed.">		} else if (!sourceApplication.equals(other.sourceApplication)) {</span>
<span class="nc" id="L319">			return false;</span>
		  }
<span class="nc bnc" id="L321" title="All 2 branches missed.">		if (event == null) {</span>
<span class="nc bnc" id="L322" title="All 2 branches missed.">			if (other.event != null)</span>
<span class="nc" id="L323">				return false;</span>
<span class="nc bnc" id="L324" title="All 2 branches missed.">		} else if (!event.equals(other.event)) {</span>
<span class="nc" id="L325">			return false;</span>
		  }	
<span class="nc" id="L327">		return true;</span>
	}
	
	/**
	 * Validate signup.
	 *
	 * @return the field validator
	 */
	public FieldValidator validateSignup() {
<span class="nc" id="L336">		FieldValidator validator = new FieldValidator();</span>
<span class="nc" id="L337">		validator.mergeErrors(this.account.validateSignUp());</span>
<span class="nc bnc" id="L338" title="All 2 branches missed.">		if (this.deviceInfo != null) {</span>
			// if date fields are empty or null set it to default date to pass validation
<span class="nc bnc" id="L340" title="All 4 branches missed.">			if(null != deviceInfo.getOsDateAndTime() &amp;&amp; !deviceInfo.getOsDateAndTime().isEmpty()){</span>
<span class="nc" id="L341">				validator.isDateInFormat(new String[]{deviceInfo.getOsDateAndTime()}, </span>
						new String[]{&quot;os_date_time&quot;}, Constants.RFC_TIMESTAMP_FORMAT);
			}
			
<span class="nc" id="L345">			return validator;</span>
		}
<span class="nc" id="L347">		return validator;</span>
	}
	
	/**
	 * Validate signup.
	 *
	 * @return the field validator
	 */
	public FieldValidator validateUpdateAccount() {
<span class="nc" id="L356">		FieldValidator validator = new FieldValidator();</span>
<span class="nc" id="L357">		validator.isValidObject(new Object[]{orgCode},</span>
				new String[]{&quot;org_code&quot;});
<span class="nc" id="L359">		validator.mergeErrors(this.account.validateUpdateAccount());</span>
<span class="nc bnc" id="L360" title="All 2 branches missed.">		if (this.deviceInfo != null) {</span>
			// if date fields are empty or null set it to default date to pass validation
<span class="nc bnc" id="L362" title="All 4 branches missed.">			if(null != deviceInfo.getOsDateAndTime() &amp;&amp; !deviceInfo.getOsDateAndTime().isEmpty()){</span>
<span class="nc" id="L363">				validator.isDateInFormat(new String[]{deviceInfo.getOsDateAndTime()}, </span>
						new String[]{&quot;os_date_time&quot;}, Constants.RFC_TIMESTAMP_FORMAT);
			}
<span class="nc" id="L366">			return validator;</span>
		}
<span class="nc" id="L368">		return validator;</span>
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>