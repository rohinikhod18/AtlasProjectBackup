<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>WhitelistBeneficiaryDBServiceImpl.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">internalrule-service</a> &gt; <a href="index.source.html" class="el_package">com.currenciesdirect.gtg.compliance.dbport.whitelistbeneficiary</a> &gt; <span class="el_source">WhitelistBeneficiaryDBServiceImpl.java</span></div><h1>WhitelistBeneficiaryDBServiceImpl.java</h1><pre class="source lang-java linenums">package com.currenciesdirect.gtg.compliance.dbport.whitelistbeneficiary;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Timestamp;
import java.util.ArrayList;
import java.util.List;

import com.currenciesdirect.gtg.compliance.commons.domain.internalruleservice.WhitelistBeneficiaryRequest;
import com.currenciesdirect.gtg.compliance.commons.domain.internalruleservice.WhitelistBeneficiaryResponse;
import com.currenciesdirect.gtg.compliance.core.domain.blacklist.ResponseStatus;
import com.currenciesdirect.gtg.compliance.core.whitelistbeneficiary.IWhitelistBeneficiaryDBService;
import com.currenciesdirect.gtg.compliance.dbport.AbstractDao;
import com.currenciesdirect.gtg.compliance.exception.InternalRuleErrors;
import com.currenciesdirect.gtg.compliance.exception.InternalRuleException;

/**
 * The Class WhitelistBeneficiaryDBServiceImpl.
 */
@SuppressWarnings({&quot;squid:S2095&quot;, &quot;squid:S3077&quot;})
public class WhitelistBeneficiaryDBServiceImpl extends AbstractDao implements IWhitelistBeneficiaryDBService {

	/** The Constant COULD_NOT_CLOSE_CONNECTION. */
	private static final String COULD_NOT_CLOSE_CONNECTION = &quot;Could not close connection&quot;;
	/** The i DB service. */
<span class="fc" id="L28">	private static volatile IWhitelistBeneficiaryDBService iDBService = null;</span>
	
	/** The Constant ACCOUNT. */
	private static final String ACCOUNT_NUMBER = &quot;AccountNumber&quot;;
	
	/** The Constant LOG. */

	/**
	 * Instantiates a new DB service impl.
	 */
	private WhitelistBeneficiaryDBServiceImpl() {
	}

	/**
	 * Gets the single instance of DBServiceImpl.
	 *
	 * @return single instance of DBServiceImpl
	 */
	public static IWhitelistBeneficiaryDBService getInstance() {
<span class="fc bfc" id="L47" title="All 2 branches covered.">		if (iDBService == null) {</span>
<span class="fc" id="L48">			synchronized (WhitelistBeneficiaryDBServiceImpl.class) {</span>
<span class="pc bpc" id="L49" title="1 of 2 branches missed.">				if (iDBService == null) {</span>
<span class="fc" id="L50">					iDBService = new WhitelistBeneficiaryDBServiceImpl();</span>
				}
<span class="fc" id="L52">			}</span>
		}
<span class="fc" id="L54">		return iDBService;</span>
	}

	/*
	 * (non-Javadoc)
	 * 
	 * @see com.currenciesdirect.gtg.compliance.core.whitelistbeneficiary.
	 * IWhitelistBeneficiaryDBService#getWhitelistBeneficiaryData(com.
	 * currenciesdirect.gtg.compliance.commons.domain.internalruleservice.
	 * WhitelistBeneficiaryRequest)
	 */
	public List&lt;WhitelistBeneficiaryResponse&gt; getWhitelistBeneficiaryData(WhitelistBeneficiaryRequest request)
			throws InternalRuleException {
<span class="fc" id="L67">		LOG.debug(&quot;DBServiceImpl.getBlacklistDataByType: start&quot;);</span>
<span class="fc" id="L68">		List&lt;WhitelistBeneficiaryResponse&gt; whitelistBeneficiaryList = new ArrayList&lt;&gt;();</span>

<span class="fc" id="L70">		ResultSet rs = null;</span>
<span class="fc" id="L71">		Connection connection = null;</span>
<span class="fc" id="L72">		PreparedStatement preparedStatement = null;</span>
		try {
<span class="fc" id="L74">			connection = getConnection();</span>
<span class="fc" id="L75">			preparedStatement = connection</span>
<span class="fc" id="L76">					.prepareStatement(DBQueryConstantWhitelistBeneficiary.GET_WHITELIST_BENEFICIARY_DATA.getQuery());</span>
<span class="fc" id="L77">			rs = preparedStatement.executeQuery();</span>
<span class="fc bfc" id="L78" title="All 2 branches covered.">			while (rs.next()) {</span>
<span class="fc" id="L79">				WhitelistBeneficiaryResponse whitelistResponse = new WhitelistBeneficiaryResponse();</span>

<span class="fc" id="L81">				whitelistResponse.setFirstName(rs.getString(&quot;FirstName&quot;));</span>
<span class="fc" id="L82">				whitelistResponse.setCreatedOn((removeMillisFromTimeStamp(rs.getTimestamp(&quot;CreatedOn&quot;).toString())));</span>
<span class="fc" id="L83">				whitelistResponse.setAccountNumber(rs.getString(ACCOUNT_NUMBER));</span>
<span class="fc" id="L84">				whitelistResponse.setNotes(rs.getString(&quot;notes&quot;));</span>
<span class="fc" id="L85">				whitelistBeneficiaryList.add(whitelistResponse);</span>
<span class="fc" id="L86">			}</span>
<span class="fc" id="L87">		} catch (Exception exception) {</span>
<span class="fc" id="L88">			throw new InternalRuleException(InternalRuleErrors.FAILED, exception);</span>
		} finally {
			try {
<span class="fc" id="L91">				closePrepareStatement(preparedStatement);</span>
<span class="fc" id="L92">				closeConnection(connection);</span>
<span class="fc" id="L93">				closeResultset(rs);</span>
<span class="nc" id="L94">			} catch (Exception e) {</span>
<span class="nc" id="L95">				LOG.error(&quot;Errror in getWhitelistBeneficiaryData&quot;, e);</span>
<span class="fc" id="L96">			}</span>
		}
<span class="fc" id="L98">		return whitelistBeneficiaryList;</span>
	}

	/*
	 * (non-Javadoc)
	 * 
	 * @see com.currenciesdirect.gtg.compliance.core.blacklist.IDBService#
	 * deleteFromBacklist(com.currenciesdirect.gtg.compliance.core.domain.
	 * blacklist.BlacklistRequest)
	 */
	public WhitelistBeneficiaryResponse deleteFromWhiteListBeneficiaryData(
			WhitelistBeneficiaryRequest whiteListBeneficiaryRequest) throws InternalRuleException {
<span class="fc" id="L110">		LOG.debug(&quot;DBServiceImpl.deleteFromWhiteListBeneficiaryData: start&quot;);</span>
<span class="fc" id="L111">		WhitelistBeneficiaryResponse response = new WhitelistBeneficiaryResponse();</span>
<span class="fc" id="L112">		Connection connection = null;</span>
		try {
<span class="fc" id="L114">			connection = getConnection();</span>
<span class="fc" id="L115">			beginTransaction(connection);</span>
<span class="pc bpc" id="L116" title="1 of 2 branches missed.">			if (deleteFromWhiteListBeneficiary(whiteListBeneficiaryRequest, connection)) {</span>
<span class="fc" id="L117">				LOG.debug(&quot;Data deleted successfully&quot;);</span>
<span class="fc" id="L118">				response.setStatus(ResponseStatus.SUCCESS.getStatus());</span>
<span class="fc" id="L119">				commitTransaction(connection);</span>
			} else {
<span class="nc" id="L121">				throw new InternalRuleException(InternalRuleErrors.FAILED);</span>
			}

<span class="nc" id="L124">		} catch (InternalRuleException internalRuleException) {</span>
<span class="nc" id="L125">			throw internalRuleException;</span>
<span class="nc" id="L126">		} catch (Exception e) {</span>
<span class="nc" id="L127">			throw new InternalRuleException(InternalRuleErrors.DATABASE_GENERIC_ERROR, e);</span>
		} finally {
			try {
<span class="fc" id="L130">				closeConnection(connection);</span>
<span class="nc" id="L131">			} catch (Exception e) {</span>
<span class="nc" id="L132">				LOG.error(COULD_NOT_CLOSE_CONNECTION, e);</span>
<span class="fc" id="L133">			}</span>
		}
<span class="fc" id="L135">		return response;</span>
	}

	/**
	 * Delete from blacklist.
	 *
	 * @param request
	 *            the request
	 * @param connection
	 *            the connection
	 * @return true, if successful
	 * @throws InternalRuleException
	 *             the internal rule exception
	 */
	private boolean deleteFromWhiteListBeneficiary(WhitelistBeneficiaryRequest request, Connection connection)
			throws InternalRuleException {
<span class="fc" id="L151">		Boolean status = Boolean.TRUE;</span>
<span class="fc" id="L152">		PreparedStatement preparedStatement = null;</span>
		try {
<span class="fc" id="L154">			preparedStatement = connection</span>
<span class="fc" id="L155">					.prepareStatement(DBQueryConstantWhitelistBeneficiary.DELETE_WHITELIST_BENEFICIARY_DATA.getQuery());</span>
<span class="fc" id="L156">			preparedStatement.setNString(1, request.getFirstName());</span>
<span class="fc" id="L157">			preparedStatement.setNString(2, request.getAccountNumber());</span>
<span class="fc" id="L158">			int count = preparedStatement.executeUpdate();</span>
<span class="fc" id="L159">			status = getUpdateStatus(count);</span>
<span class="nc" id="L160">		} catch (Exception e) {</span>
<span class="nc" id="L161">			throw new InternalRuleException(InternalRuleErrors.DATABASE_GENERIC_ERROR, e);</span>
		} finally {
			try {
<span class="fc" id="L164">				closePrepareStatement(preparedStatement);</span>
<span class="nc" id="L165">			} catch (Exception e) {</span>
<span class="nc" id="L166">				LOG.error(&quot;Could not close preparedStaement&quot;, e);</span>
<span class="fc" id="L167">			}</span>
		}
<span class="fc" id="L169">		return status;</span>
	}

	/*
	 * (non-Javadoc)
	 * 
	 * @see com.currenciesdirect.gtg.compliance.core.blacklist.IDBService#
	 * saveIntoBlacklist(com.currenciesdirect.gtg.compliance.core.domain.
	 * blacklist.BlacklistRequest)
	 */
	public WhitelistBeneficiaryResponse saveIntoWhitelistBeneficiary(
			WhitelistBeneficiaryRequest whitelistBeneficiaryRequest) throws InternalRuleException {
<span class="fc" id="L181">		LOG.debug(&quot;DBServiceImpl.saveIntoWhitelistBeneficiary: start&quot;);</span>
<span class="fc" id="L182">		WhitelistBeneficiaryResponse response = new WhitelistBeneficiaryResponse();</span>
		try {

<span class="pc bpc" id="L185" title="1 of 2 branches missed.">			if (saveIntoWhitelistBeneficiaryData(whitelistBeneficiaryRequest)) {</span>
<span class="fc" id="L186">				response.setStatus(ResponseStatus.SUCCESS.getStatus());</span>

			} else {
<span class="nc" id="L189">				throw new InternalRuleException(InternalRuleErrors.INVALID_REQUEST);</span>
			}

<span class="nc" id="L192">		} catch (InternalRuleException e) {</span>
<span class="nc" id="L193">			throw e;</span>
<span class="nc" id="L194">		} catch (Exception e) {</span>
<span class="nc" id="L195">			throw new InternalRuleException(InternalRuleErrors.DATABASE_GENERIC_ERROR);</span>
<span class="fc" id="L196">		}</span>
<span class="fc" id="L197">		return response;</span>
	}

	/**
	 * Save into blacklist.
	 *
	 * @param request
	 *            the request
	 * @return true, if successful
	 * @throws InternalRuleException
	 *             the internal rule exception
	 * @throws SQLException
	 *             the SQL exception
	 */
	private boolean saveIntoWhitelistBeneficiaryData(WhitelistBeneficiaryRequest request)
			throws InternalRuleException, SQLException {
<span class="fc" id="L213">		Boolean status = Boolean.TRUE;</span>
<span class="fc" id="L214">		PreparedStatement preparedStatement = null;</span>
<span class="fc" id="L215">		Connection connection = null;</span>
		try {
<span class="fc" id="L217">			connection = getConnection();</span>
<span class="fc" id="L218">			preparedStatement = connection.prepareStatement(</span>
<span class="fc" id="L219">					DBQueryConstantWhitelistBeneficiary.INSERT_INTO_WHITELIST_BENEFICIARY_DATA.getQuery());</span>
<span class="fc" id="L220">			Timestamp timestamp = new Timestamp(System.currentTimeMillis());</span>
<span class="fc" id="L221">			request.setCreatedOn(timestamp);</span>

<span class="fc" id="L223">			preparedStatement.setNString(1, request.getFirstName());</span>
<span class="fc" id="L224">			preparedStatement.setNString(2, request.getAccountNumber());</span>
<span class="fc" id="L225">			preparedStatement.setInt(3, 0);</span>
<span class="fc" id="L226">			preparedStatement.setNString(4, request.getCreatedBy());</span>
<span class="fc" id="L227">			preparedStatement.setTimestamp(5, request.getCreatedOn());</span>
<span class="fc" id="L228">			preparedStatement.setNString(6, request.getNotes());</span>

<span class="fc" id="L230">			int count = preparedStatement.executeUpdate();</span>
<span class="fc" id="L231">			status = getUpdateStatus(count);</span>
<span class="nc" id="L232">		} catch (Exception e) {</span>
			try {
<span class="nc" id="L234">				LOG.debug(&quot;Duplicate entry found while inserting data...Trying to update delete status&quot;);</span>
<span class="nc" id="L235">				status = updateDeleteFlagForWhitelistBeneficiaryData(request);</span>
<span class="nc" id="L236">				LOG.debug(&quot;Error while &quot;, e);</span>
<span class="nc bnc" id="L237" title="All 2 branches missed.">				if (!status.equals(Boolean.TRUE))</span>
<span class="nc" id="L238">					throw new InternalRuleException(InternalRuleErrors.DUPLICATE_DATA_ADDITION);</span>
<span class="nc" id="L239">			} catch (InternalRuleException ex) {</span>
<span class="nc" id="L240">				throw new InternalRuleException(InternalRuleErrors.DUPLICATE_DATA_ADDITION, ex);</span>
<span class="nc" id="L241">			} catch (Exception ex) {</span>
<span class="nc" id="L242">				throw new InternalRuleException(InternalRuleErrors.DATABASE_GENERIC_ERROR, ex);</span>
<span class="nc" id="L243">			}</span>
		} finally {
			try {
<span class="fc" id="L246">				closePrepareStatement(preparedStatement);</span>
<span class="fc" id="L247">				closeConnection(connection);</span>
<span class="nc" id="L248">			} catch (Exception e) {</span>
<span class="nc" id="L249">				LOG.error(&quot;Could not close preparedStaement&quot;, e);</span>
<span class="fc" id="L250">			}</span>
		}
<span class="fc" id="L252">		return status;</span>
	}

	/**
	 * Update delete flag for whitelist beneficiary data.
	 *
	 * @param request
	 *            the request
	 * @return the boolean
	 * @throws SQLException
	 *             the SQL exception
	 * @throws InternalRuleException
	 *             the internal rule exception
	 */
	private Boolean updateDeleteFlagForWhitelistBeneficiaryData(WhitelistBeneficiaryRequest request)
			throws SQLException, InternalRuleException {
<span class="nc" id="L268">		PreparedStatement updatePreparedStatement = null;</span>
<span class="nc" id="L269">		Connection connection = null;</span>
<span class="nc" id="L270">		ResultSet rs = null;</span>
<span class="nc" id="L271">		Boolean result= Boolean.FALSE;</span>
<span class="nc" id="L272">		int count = 0;</span>
		try {
<span class="nc" id="L274">			Integer id = searchWhiteListBeneficiaryDataToUpdate(request);</span>
<span class="nc" id="L275">			connection = getConnection();</span>
<span class="nc bnc" id="L276" title="All 4 branches missed.">			if (null != id &amp;&amp; id != 0) {</span>
<span class="nc" id="L277">				updatePreparedStatement = connection.prepareStatement(</span>
<span class="nc" id="L278">						DBQueryConstantWhitelistBeneficiary.UPDATE_DELETE_STATUS_FOR_WHITELIST_BENEFICIARY.getQuery());</span>
<span class="nc" id="L279">				updatePreparedStatement.setInt(1, id);</span>
			}
<span class="nc bnc" id="L281" title="All 2 branches missed.">			if (null != updatePreparedStatement) {</span>
<span class="nc" id="L282">				count = updatePreparedStatement.executeUpdate();</span>
			}
<span class="nc bnc" id="L284" title="All 2 branches missed.">			if (count == 0) {</span>
<span class="nc" id="L285">				result= Boolean.FALSE;</span>
<span class="nc" id="L286">				return result;</span>
			}
<span class="nc" id="L288">		} catch (Exception e) {</span>
<span class="nc" id="L289">			throw new InternalRuleException(InternalRuleErrors.DATABASE_GENERIC_ERROR, e);</span>
		} finally {
<span class="nc" id="L291">			closeResultset(rs);</span>
<span class="nc" id="L292">			closePrepareStatement(updatePreparedStatement);</span>
<span class="nc" id="L293">			closeConnection(connection);</span>

		}
<span class="nc" id="L296">		result=Boolean.TRUE;</span>
<span class="nc" id="L297">		return result;</span>
	}

	/*
	 * (non-Javadoc)
	 * 
	 * @see com.currenciesdirect.gtg.compliance.core.whitelistbeneficiary.
	 * IWhitelistBeneficiaryDBService#searchWhiteListBeneficiaryData(com.
	 * currenciesdirect.gtg.compliance.commons.domain.internalruleservice.
	 * WhitelistBeneficiaryRequest)
	 */
	public List&lt;WhitelistBeneficiaryResponse&gt; searchWhiteListBeneficiaryData(WhitelistBeneficiaryRequest request)
			throws InternalRuleException {
<span class="fc" id="L310">		List&lt;WhitelistBeneficiaryResponse&gt; whitelistBeneficiaryList = new ArrayList&lt;&gt;();</span>

<span class="fc" id="L312">		Connection connection = null;</span>
<span class="fc" id="L313">		PreparedStatement preparedStatementWildCard = null;</span>
<span class="fc" id="L314">		ResultSet rs = null;</span>
		try {
<span class="fc" id="L316">			connection = getConnection();</span>
<span class="fc" id="L317">			preparedStatementWildCard = connection</span>
<span class="fc" id="L318">					.prepareStatement(DBQueryConstantWhitelistBeneficiary.SEARCH_WHITELIST_BENEFICIARY_DATA.getQuery());</span>
<span class="fc" id="L319">			String nameValue = replaceWildCard(request.getFirstName());</span>
<span class="fc" id="L320">			String accountValue = replaceWildCard(request.getAccountNumber());</span>
<span class="fc" id="L321">			preparedStatementWildCard.setNString(1, &quot;%&quot; + nameValue + &quot;%&quot;);</span>
<span class="fc" id="L322">			preparedStatementWildCard.setNString(2, &quot;%&quot; + accountValue + &quot;%&quot;);</span>
<span class="fc" id="L323">			rs = preparedStatementWildCard.executeQuery();</span>
<span class="fc bfc" id="L324" title="All 2 branches covered.">			while (rs.next()) {</span>
<span class="fc" id="L325">				WhitelistBeneficiaryResponse whitelistResponse = new WhitelistBeneficiaryResponse();</span>

<span class="fc" id="L327">				whitelistResponse.setFirstName(rs.getString(&quot;FirstName&quot;));</span>
<span class="fc" id="L328">				whitelistResponse.setCreatedOn((removeMillisFromTimeStamp(rs.getTimestamp(&quot;CreatedOn&quot;).toString())));</span>
<span class="fc" id="L329">				whitelistResponse.setAccountNumber(rs.getString(ACCOUNT_NUMBER));</span>
<span class="fc" id="L330">				whitelistResponse.setNotes(rs.getString(&quot;notes&quot;));</span>
<span class="fc" id="L331">				whitelistBeneficiaryList.add(whitelistResponse);</span>
<span class="fc" id="L332">			}</span>
<span class="fc" id="L333">			rs.close();</span>

<span class="fc" id="L335">		} catch (Exception e) {</span>
<span class="fc" id="L336">			throw new InternalRuleException(InternalRuleErrors.FAILED);</span>
		} finally {
			try {
<span class="fc" id="L339">				closeResultset(rs);</span>
<span class="pc bpc" id="L340" title="1 of 2 branches missed.">				if (preparedStatementWildCard != null) {</span>
<span class="fc" id="L341">					closePrepareStatement(preparedStatementWildCard);</span>
				}
<span class="fc" id="L343">				closeConnection(connection);</span>
<span class="nc" id="L344">			} catch (InternalRuleException e) {</span>
<span class="nc" id="L345">				LOG.error(&quot;Error in searchWhiteListBeneficiaryData {1}&quot;, e);</span>

<span class="fc" id="L347">			}</span>

		}
<span class="fc" id="L350">		return whitelistBeneficiaryList;</span>
	}

	/**
	 * Search white list beneficiary data to update.
	 *
	 * @param request
	 *            the request
	 * @return the integer
	 * @throws InternalRuleException
	 *             the internal rule exception
	 */
	public Integer searchWhiteListBeneficiaryDataToUpdate(WhitelistBeneficiaryRequest request)
			throws InternalRuleException {

<span class="fc" id="L365">		Connection connection = null;</span>
<span class="fc" id="L366">		PreparedStatement selectPreparedStatement = null;</span>
<span class="fc" id="L367">		ResultSet rs = null;</span>
<span class="fc" id="L368">		Integer id = 0;</span>
		try {
<span class="fc" id="L370">			connection = getConnection();</span>
<span class="fc" id="L371">			selectPreparedStatement = connection.prepareStatement(</span>
<span class="fc" id="L372">					DBQueryConstantWhitelistBeneficiary.IS_WHITELIST_BENEFICIARY_DATA_PRESENT.getQuery());</span>
<span class="fc" id="L373">			selectPreparedStatement.setString(1, request.getAccountNumber());</span>
<span class="fc" id="L374">			rs = selectPreparedStatement.executeQuery();</span>

<span class="pc bpc" id="L376" title="1 of 2 branches missed.">			while (rs.next()) {</span>
<span class="pc bpc" id="L377" title="1 of 2 branches missed.">				if (rs.getString(ACCOUNT_NUMBER).equalsIgnoreCase(request.getAccountNumber())</span>
<span class="pc bpc" id="L378" title="1 of 2 branches missed.">						&amp;&amp; rs.getInt(&quot;Deleted&quot;) == 1) {</span>
<span class="fc" id="L379">					id = rs.getInt(&quot;ID&quot;);</span>
<span class="fc" id="L380">					return id;</span>
				}
			}
<span class="nc" id="L383">		} catch (Exception e) {</span>
<span class="nc" id="L384">			throw new InternalRuleException(InternalRuleErrors.FAILED);</span>
		} finally {
<span class="fc" id="L386">			closeResultset(rs);</span>
<span class="fc" id="L387">			closePrepareStatement(selectPreparedStatement);</span>
<span class="fc" id="L388">			closeConnection(connection);</span>

		}
<span class="nc" id="L391">		return id;</span>
	}

	/**
	 * Removes the millis from time stamp.
	 *
	 * @param date
	 *            the date
	 * @return the string
	 */
	public String removeMillisFromTimeStamp(String date) {
<span class="pc bpc" id="L402" title="1 of 4 branches missed.">		if (null != date &amp;&amp; date.contains(&quot;.&quot;)) {</span>
<span class="fc" id="L403">			return date.substring(0, date.indexOf('.'));</span>
		}
<span class="fc" id="L405">		return date;</span>
	}

	/**
	 * Gets the update status.
	 *
	 * @param count
	 *            the count
	 * @return the update status
	 */
	private Boolean getUpdateStatus(int count) {
<span class="fc" id="L416">		Boolean status = Boolean.TRUE;</span>
<span class="pc bpc" id="L417" title="1 of 2 branches missed.">		if (count &lt;= 0)</span>
<span class="nc" id="L418">			status = Boolean.FALSE;</span>
<span class="fc" id="L419">		return status;</span>
	}

	/**
	 * Replace wild card.
	 *
	 * @param value
	 *            the value
	 * @return the string
	 */
	private String replaceWildCard(String value) {
<span class="fc" id="L430">		return value.replace('*', '%').intern();</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>